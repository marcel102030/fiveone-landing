/*! @vimeo/player v2.29.7 | (c) 2025 Vimeo | MIT License | https://github.com/vimeo/player.js */function Se(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,o,a,u=[],d=!0,l=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(d=(r=o.call(e)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(b){l=!0,i=b}finally{try{if(!d&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}function se(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ce(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?se(Object(e),!0).forEach(function(r){K(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):se(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function A(){A=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,r=Object.defineProperty||function(c,s,f){c[s]=f.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(c,s,f){return Object.defineProperty(c,s,{value:f,enumerable:!0,configurable:!0,writable:!0}),c[s]}try{d({},"")}catch{d=function(s,f,E){return s[f]=E}}function l(c,s,f,E){var m=s&&s.prototype instanceof T?s:T,O=Object.create(m.prototype),C=new F(E||[]);return r(O,"_invoke",{value:w(c,f,C)}),O}function b(c,s,f){try{return{type:"normal",arg:c.call(s,f)}}catch(E){return{type:"throw",arg:E}}}n.wrap=l;var k={};function T(){}function P(){}function g(){}var R={};d(R,o,function(){return this});var _=Object.getPrototypeOf,I=_&&_(_(D([])));I&&I!==t&&e.call(I,o)&&(R=I);var v=g.prototype=T.prototype=Object.create(R);function h(c){["next","throw","return"].forEach(function(s){d(c,s,function(f){return this._invoke(s,f)})})}function p(c,s){function f(m,O,C,N){var L=b(c[m],c,O);if(L.type!=="throw"){var z=L.arg,Q=z.value;return Q&&typeof Q=="object"&&e.call(Q,"__await")?s.resolve(Q.__await).then(function(x){f("next",x,C,N)},function(x){f("throw",x,C,N)}):s.resolve(Q).then(function(x){z.value=x,C(z)},function(x){return f("throw",x,C,N)})}N(L.arg)}var E;r(this,"_invoke",{value:function(m,O){function C(){return new s(function(N,L){f(m,O,N,L)})}return E=E?E.then(C,C):C()}})}function w(c,s,f){var E="suspendedStart";return function(m,O){if(E==="executing")throw new Error("Generator is already running");if(E==="completed"){if(m==="throw")throw O;return ie()}for(f.method=m,f.arg=O;;){var C=f.delegate;if(C){var N=S(C,f);if(N){if(N===k)continue;return N}}if(f.method==="next")f.sent=f._sent=f.arg;else if(f.method==="throw"){if(E==="suspendedStart")throw E="completed",f.arg;f.dispatchException(f.arg)}else f.method==="return"&&f.abrupt("return",f.arg);E="executing";var L=b(c,s,f);if(L.type==="normal"){if(E=f.done?"completed":"suspendedYield",L.arg===k)continue;return{value:L.arg,done:f.done}}L.type==="throw"&&(E="completed",f.method="throw",f.arg=L.arg)}}}function S(c,s){var f=s.method,E=c.iterator[f];if(E===void 0)return s.delegate=null,f==="throw"&&c.iterator.return&&(s.method="return",s.arg=void 0,S(c,s),s.method==="throw")||f!=="return"&&(s.method="throw",s.arg=new TypeError("The iterator does not provide a '"+f+"' method")),k;var m=b(E,c.iterator,s.arg);if(m.type==="throw")return s.method="throw",s.arg=m.arg,s.delegate=null,k;var O=m.arg;return O?O.done?(s[c.resultName]=O.value,s.next=c.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,k):O:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,k)}function M(c){var s={tryLoc:c[0]};1 in c&&(s.catchLoc=c[1]),2 in c&&(s.finallyLoc=c[2],s.afterLoc=c[3]),this.tryEntries.push(s)}function y(c){var s=c.completion||{};s.type="normal",delete s.arg,c.completion=s}function F(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(M,this),this.reset(!0)}function D(c){if(c){var s=c[o];if(s)return s.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var f=-1,E=function m(){for(;++f<c.length;)if(e.call(c,f))return m.value=c[f],m.done=!1,m;return m.value=void 0,m.done=!0,m};return E.next=E}}return{next:ie}}function ie(){return{value:void 0,done:!0}}return P.prototype=g,r(v,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:P,configurable:!0}),P.displayName=d(g,u,"GeneratorFunction"),n.isGeneratorFunction=function(c){var s=typeof c=="function"&&c.constructor;return!!s&&(s===P||(s.displayName||s.name)==="GeneratorFunction")},n.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,g):(c.__proto__=g,d(c,u,"GeneratorFunction")),c.prototype=Object.create(v),c},n.awrap=function(c){return{__await:c}},h(p.prototype),d(p.prototype,a,function(){return this}),n.AsyncIterator=p,n.async=function(c,s,f,E,m){m===void 0&&(m=Promise);var O=new p(l(c,s,f,E),m);return n.isGeneratorFunction(s)?O:O.next().then(function(C){return C.done?C.value:O.next()})},h(v),d(v,u,"Generator"),d(v,o,function(){return this}),d(v,"toString",function(){return"[object Generator]"}),n.keys=function(c){var s=Object(c),f=[];for(var E in s)f.push(E);return f.reverse(),function m(){for(;f.length;){var O=f.pop();if(O in s)return m.value=O,m.done=!1,m}return m.done=!0,m}},n.values=D,F.prototype={constructor:F,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!c)for(var s in this)s.charAt(0)==="t"&&e.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var s=this;function f(L,z){return O.type="throw",O.arg=c,s.next=L,z&&(s.method="next",s.arg=void 0),!!z}for(var E=this.tryEntries.length-1;E>=0;--E){var m=this.tryEntries[E],O=m.completion;if(m.tryLoc==="root")return f("end");if(m.tryLoc<=this.prev){var C=e.call(m,"catchLoc"),N=e.call(m,"finallyLoc");if(C&&N){if(this.prev<m.catchLoc)return f(m.catchLoc,!0);if(this.prev<m.finallyLoc)return f(m.finallyLoc)}else if(C){if(this.prev<m.catchLoc)return f(m.catchLoc,!0)}else{if(!N)throw new Error("try statement without catch or finally");if(this.prev<m.finallyLoc)return f(m.finallyLoc)}}}},abrupt:function(c,s){for(var f=this.tryEntries.length-1;f>=0;--f){var E=this.tryEntries[f];if(E.tryLoc<=this.prev&&e.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var m=E;break}}m&&(c==="break"||c==="continue")&&m.tryLoc<=s&&s<=m.finallyLoc&&(m=null);var O=m?m.completion:{};return O.type=c,O.arg=s,m?(this.method="next",this.next=m.finallyLoc,k):this.complete(O)},complete:function(c,s){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&s&&(this.next=s),k},finish:function(c){for(var s=this.tryEntries.length-1;s>=0;--s){var f=this.tryEntries[s];if(f.finallyLoc===c)return this.complete(f.completion,f.afterLoc),y(f),k}},catch:function(c){for(var s=this.tryEntries.length-1;s>=0;--s){var f=this.tryEntries[s];if(f.tryLoc===c){var E=f.completion;if(E.type==="throw"){var m=E.arg;y(f)}return m}}throw new Error("illegal catch attempt")},delegateYield:function(c,s,f){return this.delegate={iterator:D(c),resultName:s,nextLoc:f},this.method==="next"&&(this.arg=void 0),k}},n}function le(n,t,e,r,i,o,a){try{var u=n[o](a),d=u.value}catch(l){e(l);return}u.done?t(d):Promise.resolve(d).then(r,i)}function U(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function a(d){le(o,r,i,a,u,"next",d)}function u(d){le(o,r,i,a,u,"throw",d)}a(void 0)})}}function ve(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ye(r.key),r)}}function me(n,t,e){return t&&fe(n.prototype,t),e&&fe(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function K(n,t,e){return t=ye(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Oe(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&J(n,t)}function Y(n){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(n)}function J(n,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J(n,t)}function ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z(n,t,e){return ge()?Z=Reflect.construct.bind():Z=function(i,o,a){var u=[null];u.push.apply(u,o);var d=Function.bind.apply(i,u),l=new d;return a&&J(l,a.prototype),l},Z.apply(null,arguments)}function Me(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function ae(n){var t=typeof Map=="function"?new Map:void 0;return ae=function(r){if(r===null||!Me(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Z(r,arguments,Y(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),J(i,r)},ae(n)}function ee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ce(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(n)}function _e(n){var t=ge();return function(){var r=Y(n),i;if(t){var o=Y(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ce(this,i)}}function Ae(n,t){return je(n)||Se(n,t)||Re(n,t)||Ie()}function je(n){if(Array.isArray(n))return n}function Re(n,t){if(n){if(typeof n=="string")return de(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return de(n,t)}}function de(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ye(n){var t=Fe(n,"string");return typeof t=="symbol"?t:String(t)}var Ne=typeof global<"u"&&{}.toString.call(global)==="[object global]",Le=typeof Bun<"u",De=typeof Deno<"u",we=Ne||Le||De;function he(n,t){return n.indexOf(t.toLowerCase())===0?n:"".concat(t.toLowerCase()).concat(n.substr(0,1).toUpperCase()).concat(n.substr(1))}function Ve(n){return!!(n&&n.nodeType===1&&"nodeName"in n&&n.ownerDocument&&n.ownerDocument.defaultView)}function qe(n){return!isNaN(parseFloat(n))&&isFinite(n)&&Math.floor(n)==n}function q(n){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(n)}function be(n){var t=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return t.test(n)}function $e(n){for(var t=(n||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),e=(t&&t[1]||"").replace("player.",""),r=[".videoji.hk",".vimeo.work",".videoji.cn"],i=0,o=r;i<o.length;i++){var a=o[i];if(e.endsWith(a))return e}return"vimeo.com"}function ke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.id,e=n.url,r=t||e;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(qe(r))return"https://vimeo.com/".concat(r);if(q(r))return r.replace("http:","https:");throw t?new TypeError("“".concat(t,"” is not a valid video id.")):new TypeError("“".concat(r,"” is not a vimeo.com url."))}var pe=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",a=typeof e=="string"?[e]:e;return a.forEach(function(u){t[i](u,r)}),{cancel:function(){return a.forEach(function(d){return t[o](d,r)})}}};function ne(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;if(!n||!t||typeof t.querySelectorAll!="function")return null;for(var e=t.querySelectorAll("iframe"),r=0;r<e.length;r++)if(e[r]&&e[r].contentWindow===n)return e[r];return null}var xe=typeof Array.prototype.indexOf<"u",We=typeof window<"u"&&typeof window.postMessage<"u";if(!we&&(!xe||!We))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(n,t){return t={exports:{}},n(t,t.exports),t.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(n){if(n.WeakMap)return;var t=Object.prototype.hasOwnProperty,e=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(o,a,u){e?Object.defineProperty(o,a,{configurable:!0,writable:!0,value:u}):o[a]=u};n.WeakMap=function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",u("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(o.prototype,"delete",function(l){if(a(this,"delete"),!i(l))return!1;var b=l[this._id];return b&&b[0]===l?(delete l[this._id],!0):!1}),r(o.prototype,"get",function(l){if(a(this,"get"),!!i(l)){var b=l[this._id];if(b&&b[0]===l)return b[1]}}),r(o.prototype,"has",function(l){if(a(this,"has"),!i(l))return!1;var b=l[this._id];return!!(b&&b[0]===l)}),r(o.prototype,"set",function(l,b){if(a(this,"set"),!i(l))throw new TypeError("Invalid value used as weak map key");var k=l[this._id];return k&&k[0]===l?(k[1]=b,this):(r(l,this._id,[l,b]),this)});function a(l,b){if(!i(l)||!t.call(l,"_id"))throw new TypeError(b+" method called on incompatible receiver "+typeof l)}function u(l){return l+"_"+d()+"."+d()}function d(){return Math.random().toString().substring(2)}return r(o,"_polyfill",!0),o}();function i(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:B);var V=Ue(function(n){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(e,r,i){r[e]=r[e]||i(),n.exports&&(n.exports=r[e])})("Promise",B,function(){var e,r,i,o=Object.prototype.toString,a=typeof setImmediate<"u"?function(h){return setImmediate(h)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(h,p,w,S){return Object.defineProperty(h,p,{value:w,writable:!0,configurable:S!==!1})}}catch{e=function(p,w,S){return p[w]=S,p}}i=function(){var h,p,w;function S(M,y){this.fn=M,this.self=y,this.next=void 0}return{add:function(y,F){w=new S(y,F),p?p.next=w:h=w,p=w,w=void 0},drain:function(){var y=h;for(h=p=r=void 0;y;)y.fn.call(y.self),y=y.next}}}();function u(v,h){i.add(v,h),r||(r=a(i.drain))}function d(v){var h,p=typeof v;return v!=null&&(p=="object"||p=="function")&&(h=v.then),typeof h=="function"?h:!1}function l(){for(var v=0;v<this.chain.length;v++)b(this,this.state===1?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function b(v,h,p){var w,S;try{h===!1?p.reject(v.msg):(h===!0?w=v.msg:w=h.call(void 0,v.msg),w===p.promise?p.reject(TypeError("Promise-chain cycle")):(S=d(w))?S.call(w,p.resolve,p.reject):p.resolve(w))}catch(M){p.reject(M)}}function k(v){var h,p=this;if(!p.triggered){p.triggered=!0,p.def&&(p=p.def);try{(h=d(v))?u(function(){var w=new g(p);try{h.call(v,function(){k.apply(w,arguments)},function(){T.apply(w,arguments)})}catch(S){T.call(w,S)}}):(p.msg=v,p.state=1,p.chain.length>0&&u(l,p))}catch(w){T.call(new g(p),w)}}}function T(v){var h=this;h.triggered||(h.triggered=!0,h.def&&(h=h.def),h.msg=v,h.state=2,h.chain.length>0&&u(l,h))}function P(v,h,p,w){for(var S=0;S<h.length;S++)(function(y){v.resolve(h[y]).then(function(D){p(y,D)},w)})(S)}function g(v){this.def=v,this.triggered=!1}function R(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function _(v){if(typeof v!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var h=new R(this);this.then=function(w,S){var M={success:typeof w=="function"?w:!0,failure:typeof S=="function"?S:!1};return M.promise=new this.constructor(function(F,D){if(typeof F!="function"||typeof D!="function")throw TypeError("Not a function");M.resolve=F,M.reject=D}),h.chain.push(M),h.state!==0&&u(l,h),M.promise},this.catch=function(w){return this.then(void 0,w)};try{v.call(void 0,function(w){k.call(h,w)},function(w){T.call(h,w)})}catch(p){T.call(h,p)}}var I=e({},"constructor",_,!1);return _.prototype=I,e(I,"__NPO__",0,!1),e(_,"resolve",function(h){var p=this;return h&&typeof h=="object"&&h.__NPO__===1?h:new p(function(S,M){if(typeof S!="function"||typeof M!="function")throw TypeError("Not a function");S(h)})}),e(_,"reject",function(h){return new this(function(w,S){if(typeof w!="function"||typeof S!="function")throw TypeError("Not a function");S(h)})}),e(_,"all",function(h){var p=this;return o.call(h)!="[object Array]"?p.reject(TypeError("Not an array")):h.length===0?p.resolve([]):new p(function(S,M){if(typeof S!="function"||typeof M!="function")throw TypeError("Not a function");var y=h.length,F=Array(y),D=0;P(p,h,function(c,s){F[c]=s,++D===y&&S(F)},M)})}),e(_,"race",function(h){var p=this;return o.call(h)!="[object Array]"?p.reject(TypeError("Not an array")):new p(function(S,M){if(typeof S!="function"||typeof M!="function")throw TypeError("Not a function");P(p,h,function(F,D){S(D)},M)})}),_})}),$=new WeakMap;function H(n,t,e){var r=$.get(n.element)||{};t in r||(r[t]=[]),r[t].push(e),$.set(n.element,r)}function te(n,t){var e=$.get(n.element)||{};return e[t]||[]}function re(n,t,e){var r=$.get(n.element)||{};if(!r[t])return!0;if(!e)return r[t]=[],$.set(n.element,r),!0;var i=r[t].indexOf(e);return i!==-1&&r[t].splice(i,1),$.set(n.element,r),r[t]&&r[t].length===0}function ze(n,t){var e=te(n,t);if(e.length<1)return!1;var r=e.shift();return re(n,t,r),r}function Ge(n,t){var e=$.get(n);$.set(t,e),$.delete(n)}function X(n){if(typeof n=="string")try{n=JSON.parse(n)}catch(t){return console.warn(t),{}}return n}function W(n,t,e){if(!(!n.element.contentWindow||!n.element.contentWindow.postMessage)){var r={method:t};e!==void 0&&(r.value=e);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),n.element.contentWindow.postMessage(r,n.origin)}}function Be(n,t){t=X(t);var e=[],r;if(t.event){if(t.event==="error"){var i=te(n,t.data.method);i.forEach(function(a){var u=new Error(t.data.message);u.name=t.data.name,a.reject(u),re(n,t.data.method,a)})}e=te(n,"event:".concat(t.event)),r=t.data}else if(t.method){var o=ze(n,t.method);o&&(e.push(o),r=t.value)}e.forEach(function(a){try{if(typeof a=="function"){a.call(n,r);return}a.resolve(r)}catch{}})}var Qe=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","initial_quality","interactive_params","keyboard","loop","maxheight","max_quality","maxwidth","min_quality","muted","play_button_position","playsinline","portrait","preload","progress_bar","quality","quality_selector","responsive","skipping_forward","speed","start_time","texttrack","thumbnail_id","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function Pe(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Qe.reduce(function(e,r){var i=n.getAttribute("data-vimeo-".concat(r));return(i||i==="")&&(e[r]=i===""?1:i),e},t)}function ue(n,t){var e=n.html;if(!t)throw new TypeError("An element must be provided");if(t.getAttribute("data-vimeo-initialized")!==null)return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=e,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function Ee(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!q(n))throw new TypeError("“".concat(n,"” is not a vimeo.com url."));var o=$e(n),a="https://".concat(o,"/api/oembed.json?url=").concat(encodeURIComponent(n));for(var u in t)t.hasOwnProperty(u)&&(a+="&".concat(u,"=").concat(encodeURIComponent(t[u])));var d="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;d.open("GET",a,!0),d.onload=function(){if(d.status===404){i(new Error("“".concat(n,"” was not found.")));return}if(d.status===403){i(new Error("“".concat(n,"” is not embeddable.")));return}try{var l=JSON.parse(d.responseText);if(l.domain_status_code===403){ue(l,e),i(new Error("“".concat(n,"” is not embeddable.")));return}r(l)}catch(b){i(b)}},d.onerror=function(){var l=d.status?" (".concat(d.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(l,".")))},d.send()})}function He(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,t=[].slice.call(n.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),e=function(i){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(i))};t.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var i=Pe(r),o=ke(i);Ee(o,i,r).then(function(a){return ue(a,r)}).catch(e)}catch(a){e(a)}})}function Ye(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(r){if(q(r.origin)&&!(!r.data||r.data.event!=="spacechange")){var i=r.source?ne(r.source,n):null;if(i){var o=i.parentElement;o.style.paddingBottom="".concat(r.data.data[0].bottom,"px")}}};window.addEventListener("message",t)}}function Je(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var t=function(r){if(q(r.origin)){var i=X(r.data);if(!(!i||i.event!=="ready")){var o=r.source?ne(r.source,n):null;if(o&&be(o.src)){var a=new Te(o);a.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",t)}}function Xe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(i){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(i))},e=function(i){if(q(i.origin)){var o=X(i.data);if(!(!o||o.event!=="ready")){var a=i.source?ne(i.source,n):null;if(a&&be(a.src)){var u=new Te(a);u.getVideoId().then(function(d){var l=new RegExp("[?&]vimeo_t_".concat(d,"=([^&#]*)")).exec(window.location.href);if(l&&l[1]){var b=decodeURI(l[1]);u.setCurrentTime(b)}}).catch(t)}}}};window.addEventListener("message",e)}}function Ke(){if(!window.VimeoDRMEmbedsUpdated){window.VimeoDRMEmbedsUpdated=!0;var n=function(e){if(q(e.origin)){var r=X(e.data);if(!(!r||r.event!=="drminitfailed")){var i=e.source?ne(e.source):null;if(i){var o=i.getAttribute("allow")||"",a=o.includes("encrypted-media");if(!a){i.setAttribute("allow","".concat(o,"; encrypted-media"));var u=new URL(i.getAttribute("src"));u.searchParams.set("forcereload","drm"),i.setAttribute("src",u.toString());return}}}}};window.addEventListener("message",n)}}function Ze(){var n=function(){for(var r,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,a=i.length,u={};o<a;o++)if(r=i[o],r&&r[1]in document){for(o=0;o<r.length;o++)u[i[0][o]]=r[o];return u}return!1}(),t={fullscreenchange:n.fullscreenchange,fullscreenerror:n.fullscreenerror},e={request:function(i){return new Promise(function(o,a){var u=function l(){e.off("fullscreenchange",l),o()};e.on("fullscreenchange",u),i=i||document.documentElement;var d=i[n.requestFullscreen]();d instanceof Promise&&d.then(u).catch(a)})},exit:function(){return new Promise(function(i,o){if(!e.isFullscreen){i();return}var a=function d(){e.off("fullscreenchange",d),i()};e.on("fullscreenchange",a);var u=document[n.exitFullscreen]();u instanceof Promise&&u.then(a).catch(o)})},on:function(i,o){var a=t[i];a&&document.addEventListener(a,o)},off:function(i,o){var a=t[i];a&&document.removeEventListener(a,o)}};return Object.defineProperties(e,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),e}var et={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},tt=function(n){Oe(e,n);var t=_e(e);function e(r,i){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;return ve(this,e),o=t.call(this),K(ee(o),"logger",void 0),K(ee(o),"speedAdjustment",0),K(ee(o),"adjustSpeed",function(){var d=U(A().mark(function l(b,k){var T;return A().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(o.speedAdjustment!==k){g.next=2;break}return g.abrupt("return");case 2:return g.next=4,b.getPlaybackRate();case 4:return g.t0=g.sent,g.t1=o.speedAdjustment,g.t2=g.t0-g.t1,g.t3=k,T=g.t2+g.t3,o.log("New playbackRate:  ".concat(T)),g.next=12,b.setPlaybackRate(T);case 12:o.speedAdjustment=k;case 13:case"end":return g.stop()}},l)}));return function(l,b){return d.apply(this,arguments)}}()),o.logger=u,o.init(i,r,ce(ce({},et),a)),o}return me(e,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var r=U(A().mark(function o(a,u,d){var l=this,b,k,T;return A().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.waitForTOReadyState(a,"open");case 2:if(d.role!=="viewer"){g.next=10;break}return g.next=5,this.updatePlayer(a,u,d);case 5:b=pe(a,"change",function(){return l.updatePlayer(a,u,d)}),k=this.maintainPlaybackPosition(a,u,d),this.addEventListener("disconnect",function(){k.cancel(),b.cancel()}),g.next=14;break;case 10:return g.next=12,this.updateTimingObject(a,u);case 12:T=pe(u,["seeked","play","pause","ratechange"],function(){return l.updateTimingObject(a,u)},"on","off"),this.addEventListener("disconnect",function(){return T.cancel()});case 14:case"end":return g.stop()}},o,this)}));function i(o,a,u){return r.apply(this,arguments)}return i}()},{key:"updateTimingObject",value:function(){var r=U(A().mark(function o(a,u){var d,l,b,k,T;return A().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Promise.all([u.getCurrentTime(),u.getPaused(),u.getPlaybackRate()]);case 2:d=g.sent,l=Ae(d,3),b=l[0],k=l[1],T=l[2],a.update({position:b,velocity:k?0:T});case 8:case"end":return g.stop()}},o)}));function i(o,a){return r.apply(this,arguments)}return i}()},{key:"updatePlayer",value:function(){var r=U(A().mark(function o(a,u,d){var l,b,k;return A().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(l=a.query(),b=l.position,k=l.velocity,typeof b=="number"&&u.setCurrentTime(b),typeof k!="number"){P.next=25;break}if(k!==0){P.next=11;break}return P.next=6,u.getPaused();case 6:if(P.t0=P.sent,P.t0!==!1){P.next=9;break}u.pause();case 9:P.next=25;break;case 11:if(!(k>0)){P.next=25;break}return P.next=14,u.getPaused();case 14:if(P.t1=P.sent,P.t1!==!0){P.next=19;break}return P.next=18,u.play().catch(function(){var g=U(A().mark(function R(_){return A().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(_.name==="NotAllowedError"&&d.autoPlayMuted)){v.next=5;break}return v.next=3,u.setMuted(!0);case 3:return v.next=5,u.play().catch(function(h){return console.error("Couldn't play the video from TimingSrcConnector. Error:",h)});case 5:case"end":return v.stop()}},R)}));return function(R){return g.apply(this,arguments)}}());case 18:this.updatePlayer(a,u,d);case 19:return P.next=21,u.getPlaybackRate();case 21:if(P.t2=P.sent,P.t3=k,P.t2===P.t3){P.next=25;break}u.setPlaybackRate(k);case 25:case"end":return P.stop()}},o,this)}));function i(o,a,u){return r.apply(this,arguments)}return i}()},{key:"maintainPlaybackPosition",value:function(i,o,a){var u=this,d=a.allowedDrift,l=a.maxAllowedDrift,b=a.minCheckInterval,k=a.maxRateAdjustment,T=a.maxTimeToCatchUp,P=Math.min(T,Math.max(b,l))*1e3,g=function(){var _=U(A().mark(function I(){var v,h,p,w,S;return A().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.t0=i.query().velocity===0,y.t0){y.next=6;break}return y.next=4,o.getPaused();case 4:y.t1=y.sent,y.t0=y.t1===!0;case 6:if(!y.t0){y.next=8;break}return y.abrupt("return");case 8:return y.t2=i.query().position,y.next=11,o.getCurrentTime();case 11:if(y.t3=y.sent,v=y.t2-y.t3,h=Math.abs(v),u.log("Drift: ".concat(v)),!(h>l)){y.next=22;break}return y.next=18,u.adjustSpeed(o,0);case 18:o.setCurrentTime(i.query().position),u.log("Resync by currentTime"),y.next=29;break;case 22:if(!(h>d)){y.next=29;break}return p=h/T,w=k,S=p<w?(w-p)/2:w,y.next=28,u.adjustSpeed(o,S*Math.sign(v));case 28:u.log("Resync by playbackRate");case 29:case"end":return y.stop()}},I)}));return function(){return _.apply(this,arguments)}}(),R=setInterval(function(){return g()},P);return{cancel:function(){return clearInterval(R)}}}},{key:"log",value:function(i){var o;(o=this.logger)===null||o===void 0||o.call(this,"TimingSrcConnector: ".concat(i))}},{key:"waitForTOReadyState",value:function(i,o){return new Promise(function(a){var u=function d(){i.readyState===o?a():i.addEventListener("readystatechange",d,{once:!0})};u()})}}]),e}(ae(EventTarget)),G=new WeakMap,oe=new WeakMap,j={},Te=function(){function n(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ve(this,n),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),typeof document<"u"&&typeof t=="string"&&(t=document.getElementById(t)),!Ve(t))throw new TypeError("You must pass either a valid element or a valid id.");if(t.nodeName!=="IFRAME"){var i=t.querySelector("iframe");i&&(t=i)}if(t.nodeName==="IFRAME"&&!q(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(G.has(t))return G.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var o=new V(function(u,d){if(e._onMessage=function(k){if(!(!q(k.origin)||e.element.contentWindow!==k.source)){e.origin==="*"&&(e.origin=k.origin);var T=X(k.data),P=T&&T.event==="error",g=P&&T.data&&T.data.method==="ready";if(g){var R=new Error(T.data.message);R.name=T.data.name,d(R);return}var _=T&&T.event==="ready",I=T&&T.method==="ping";if(_||I){e.element.setAttribute("data-ready","true"),u();return}Be(e,T)}},e._window.addEventListener("message",e._onMessage),e.element.nodeName!=="IFRAME"){var l=Pe(t,r),b=ke(l);Ee(b,l,t).then(function(k){var T=ue(k,t);return e.element=T,e._originalElement=t,Ge(t,T),G.set(e.element,e),k}).catch(d)}});if(oe.set(this,o),G.set(this.element,this),this.element.nodeName==="IFRAME"&&W(this,"ping"),j.isEnabled){var a=function(){return j.exit()};this.fullscreenchangeHandler=function(){j.isFullscreen?H(e,"event:exitFullscreen",a):re(e,"event:exitFullscreen",a),e.ready().then(function(){W(e,"fullscreenchange",j.isFullscreen)})},j.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return me(n,[{key:"callMethod",value:function(e){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(e==null)throw new TypeError("You must pass a method name.");return new V(function(u,d){return r.ready().then(function(){H(r,e,{resolve:u,reject:d}),o.length===0?o={}:o.length===1&&(o=o[0]),W(r,e,o)}).catch(d)})}},{key:"get",value:function(e){var r=this;return new V(function(i,o){return e=he(e,"get"),r.ready().then(function(){H(r,e,{resolve:i,reject:o}),W(r,e)}).catch(o)})}},{key:"set",value:function(e,r){var i=this;return new V(function(o,a){if(e=he(e,"set"),r==null)throw new TypeError("There must be a value to set.");return i.ready().then(function(){H(i,e,{resolve:o,reject:a}),W(i,e,r)}).catch(a)})}},{key:"on",value:function(e,r){if(!e)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var i=te(this,"event:".concat(e));i.length===0&&this.callMethod("addEventListener",e).catch(function(){}),H(this,"event:".concat(e),r)}},{key:"off",value:function(e,r){if(!e)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var i=re(this,"event:".concat(e),r);i&&this.callMethod("removeEventListener",e).catch(function(o){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=oe.get(this)||new V(function(r,i){i(new Error("Unknown player. Probably unloaded."))});return V.resolve(e)}},{key:"addCuePoint",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:r})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,r){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:r})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return j.isEnabled?j.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return j.isEnabled?j.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return j.isEnabled?V.resolve(j.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new V(function(r){if(oe.delete(e),G.delete(e.element),e._originalElement&&(G.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&e.element.nodeName==="IFRAME"&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&e.element.nodeName==="DIV"&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var i=e.element.querySelector("iframe");i&&i.parentNode&&(i.parentNode.parentNode&&e._originalElement&&e._originalElement!==i.parentNode?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))}e._window.removeEventListener("message",e._onMessage),j.isEnabled&&j.off("fullscreenchange",e.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return V.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new V(function(o,a){return a(new TypeError("Argument must be an array."))});var r=new V(function(o){return o(null)}),i=[e[0]?this.set("colorOne",e[0]):r,e[1]?this.set("colorTwo",e[1]):r,e[2]?this.set("colorThree",e[2]):r,e[3]?this.set("colorFour",e[3]):r];return V.all(i)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:function(){var t=U(A().mark(function r(i,o){var a=this,u;return A().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i){l.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return l.next=4,this.ready();case 4:return u=new tt(this,i,o),W(this,"notifyTimingObjectConnect"),u.addEventListener("disconnect",function(){return W(a,"notifyTimingObjectDisconnect")}),l.abrupt("return",u);case 8:case"end":return l.stop()}},r,this)}));function e(r,i){return t.apply(this,arguments)}return e}()}],[{key:"isVimeoUrl",value:function(e){return q(e)}}]),n}();we||(j=Ze(),He(),Ye(),Je(),Xe(),Ke());export{Te as default};
